<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Notifier Master Example</title>
  <!-- Bootswatch Lumen Theme as default -->
  <link id="theme-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5/dist/lumen/bootstrap.min.css">
  <style>
    .section { margin-bottom: 2rem; }
    .section h2 { margin-top: 1.5rem; }
    pre { padding: 1rem; }
    /* Navbar styling based on theme */
    /* Light theme navbar */
    [data-bs-theme="light"] .navbar {
      background-color: #f8f9fa !important;
      color: #000;
    }
    [data-bs-theme="light"] .navbar .navbar-brand,
    [data-bs-theme="light"] .navbar .nav-link,
    [data-bs-theme="light"] .navbar .btn {
      color: #000 !important;
    }
    /* Dark theme navbar */
    [data-bs-theme="dark"] .navbar {
      background-color: #343a40 !important;
      color: #fff;
    }
    [data-bs-theme="dark"] .navbar .navbar-brand,
    [data-bs-theme="dark"] .navbar .nav-link,
    [data-bs-theme="dark"] .navbar .btn {
      color: #fff !important;
    }
    /* Dark stylings for form elements */
    [data-bs-theme="dark"] .form-select,
    [data-bs-theme="dark"] .form-control,
    [data-bs-theme="dark"] .btn {
      background-color: #333;
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg" id="main-navbar">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Notifier Master</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
         <ul class="navbar-nav me-auto">
           <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
         </ul>
         <div class="d-flex">
           <a href="https://github.com/yourusername/notifier" target="_blank" class="btn me-2">GitHub</a>
           <select id="theme-selector" class="form-select me-2" style="max-width:200px;"></select>
           <button id="dark-mode-toggle" class="btn">Dark Mode</button>
         </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container my-4">
    <h1>Notifier Master Example</h1>
    <p>
      This demo showcases all features of the Notifier helper class, including spawning notifications, using different alert types,
      interactive documentation tips, and creating custom notifier configurations. Use the controls below to experiment with every feature. 
      NOTE: Notifier is designed to work with Bootstrap 5 and supports Bootswatch themes. Use the dropdown to switch themes and the button to toggle dark mode.
    </p>
    
    <!-- Section: Spawner Demo -->
    <div class="section" id="spawner-demo">
      <h2>Spawner Demo</h2>
      <p>The buttons below demonstrate spawning notifications in rapid succession, as well as a manual notification (with no autoâ€‘dismiss).</p>
      <button id="spawn-notifs" class="btn btn-primary me-2">Spawn 5 Notifications</button>
      <button id="spawn-manual" class="btn btn-danger me-2">Spawn Manual (No Timeout)</button>
      <button id="clear-notifs" class="btn btn-secondary">Clear Notifications</button>
    </div>
    
    <!-- Section: All Alert Types -->
    <div class="section" id="all-alerts">
      <h2>All Alert Types</h2>
      <p>Click any button below to spawn a notification with that alert type:</p>
      <button id="alert-primary" class="btn btn-primary me-2">Primary</button>
      <button id="alert-secondary" class="btn btn-secondary me-2">Secondary</button>
      <button id="alert-light" class="btn btn-light me-2">Light</button>
      <button id="alert-dark" class="btn btn-dark me-2">Dark</button>
      <button id="alert-info" class="btn btn-info me-2">Info</button>
      <button id="alert-success" class="btn btn-success me-2">Success</button>
      <button id="alert-warning" class="btn btn-warning me-2">Warning</button>
      <button id="alert-danger" class="btn btn-danger me-2">Danger</button>
    </div>
    
    <!-- Section: Interactive Documentation -->
    <div class="section" id="doc-demo">
      <h2>Interactive Documentation</h2>
      <p>Below is an example code snippet for creating a Notifier instance. Click the buttons to see additional usage tips.</p>
      <pre><code>var notifier_instance = new Notifier({
  position: 'top',
  alignment: 'right',
  max_notifications: 5,
  default_timeout: 5000
});</code></pre>
      <button id="doc-instance" class="btn btn-info me-2">Show Instance Info</button>
      <button id="doc-add" class="btn btn-success me-2">Show Add Notification Tip</button>
      <button id="doc-clear" class="btn btn-warning">Clear Notifications</button>
    </div>
    
    <!-- Section: Custom Notifier Configuration -->
    <div class="section" id="custom-config">
      <h2>Custom Notifier Configuration</h2>
      <p>Customize a notifier instance by selecting the parameters below and then test your custom notifier.</p>
      <div class="row mb-3">
        <div class="col-md-3">
          <label for="config-position" class="form-label">Position</label>
          <select id="config-position" class="form-select">
            <option value="top" selected>Top</option>
            <option value="bottom">Bottom</option>
          </select>
        </div>
        <div class="col-md-3">
          <label for="config-alignment" class="form-label">Alignment</label>
          <select id="config-alignment" class="form-select">
            <option value="left">Left</option>
            <option value="middle" selected>Middle</option>
            <option value="right">Right</option>
          </select>
        </div>
        <div class="col-md-3">
          <label for="config-max" class="form-label">Max Notifications</label>
          <input type="number" id="config-max" class="form-control" value="5">
        </div>
        <div class="col-md-3">
          <label for="config-timeout" class="form-label">Default Timeout (ms)</label>
          <input type="number" id="config-timeout" class="form-control" value="5000">
        </div>
      </div>
      <button id="create-custom" class="btn btn-primary me-2">Create Custom Notifier</button>
      <button id="custom-notify" class="btn btn-secondary">Spawn Custom Notification</button>
      <div id="custom-output" class="mt-2"></div>
    </div>
    
  </div>

  <!-- Bootstrap 5 Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Include the notifier helper class (non-module version) -->
  <script src="notifier.js"></script>
  <script>
    (function () {
      // Create a master notifier instance for the spawner and alert type demos.
      var master_notifier = new Notifier({
        position: 'bottom',
        alignment: 'left',
        max_notifications: 5,
        default_timeout: 3000
      });

      // Spawner Demo: Spawn 5 notifications in rapid succession.
      document.getElementById('spawn-notifs').addEventListener('click', function () {
        var types = ['primary', 'secondary', 'light', 'dark', 'info', 'success', 'warning', 'danger'];
        for (var i = 1; i <= 5; i++) {
          (function (i) {
            var random_type = types[Math.floor(Math.random() * types.length)];
            setTimeout(function () {
              master_notifier.notify("Auto Notification " + i + ": " + random_type, random_type);
            }, i * 400);
          })(i);
        }
      });

      // Spawner Demo: Spawn manual notification with no auto-dismiss.
      document.getElementById('spawn-manual').addEventListener('click', function () {
        master_notifier.notify("Manual Notification (No Timeout)", "warning", -1);
      });

      // Clear notifications.
      document.getElementById('clear-notifs').addEventListener('click', function () {
        master_notifier.clearNotifications();
      });

      // All Alert Types demo.
      var alertTypes = ['primary', 'secondary', 'light', 'dark', 'info', 'success', 'warning', 'danger'];
      alertTypes.forEach(function(type) {
        document.getElementById("alert-" + type).addEventListener("click", function() {
          master_notifier.notify("This is a " + type + " notification.", type);
        });
      });

      // Interactive Documentation: Use a separate notifier instance for top-right messages.
      var doc_notifier = new Notifier({
        position: 'top',
        alignment: 'right',
        max_notifications: 5,
        default_timeout: 5000
      });
      document.getElementById('doc-instance').addEventListener('click', function () {
        doc_notifier.notify("Notifier instance created with position 'top', alignment 'right', max 5, timeout 5000ms.", "primary");
      });
      document.getElementById('doc-add').addEventListener('click', function () {
        doc_notifier.notify("Use notify(message, type, timeout). Pass -1 as timeout for a manual notification.", "success");
      });
      document.getElementById('doc-clear').addEventListener('click', function () {
        doc_notifier.clearNotifications();
        doc_notifier.notify("Call clearNotifications() to remove all notifications.", "danger");
      });

      // Custom Notifier Configuration.
      var custom_notifier;
      document.getElementById('create-custom').addEventListener('click', function () {
        var position = document.getElementById('config-position').value;
        var alignment = document.getElementById('config-alignment').value;
        var max_notifications = parseInt(document.getElementById('config-max').value, 10) || 5;
        var default_timeout = parseInt(document.getElementById('config-timeout').value, 10) || 5000;
        custom_notifier = new Notifier({
          position: position,
          alignment: alignment,
          max_notifications: max_notifications,
          default_timeout: default_timeout
        });
        document.getElementById('custom-output').textContent = "Custom Notifier created with position '" + position + "', alignment '" + alignment + "', max " + max_notifications + ", timeout " + default_timeout + "ms.";
      });
      document.getElementById('custom-notify').addEventListener('click', function () {
        if (custom_notifier) {
          custom_notifier.notify("Custom notification spawned with your settings.", "info");
        } else {
          alert("Please create a custom notifier first.");
        }
      });
    })();
  </script>
  <script>
    // Theme picker and dark mode.
    document.addEventListener("DOMContentLoaded", function() {
      fetch("https://bootswatch.com/api/5.json")
        .then(response => response.json())
        .then(data => {
          var themes = data.themes;
          var themeSelector = document.getElementById("theme-selector");
          themes.forEach(theme => {
            var option = document.createElement("option");
            option.value = theme.cssCdn;
            option.textContent = theme.name;
            if (theme.name.toLowerCase() === "lumen") {
              option.selected = true;
            }
            themeSelector.appendChild(option);
          });
        })
        .catch(error => console.error("Error fetching themes:", error));

      document.getElementById("theme-selector").addEventListener("change", function() {
        document.getElementById("theme-css").href = this.value;
      });

      var darkModeToggle = document.getElementById("dark-mode-toggle");
      darkModeToggle.addEventListener("click", function() {
        var htmlEl = document.documentElement;
        var currentTheme = htmlEl.getAttribute("data-bs-theme");
        if (currentTheme === "light") {
          htmlEl.setAttribute("data-bs-theme", "dark");
          darkModeToggle.textContent = "Light Mode";
        } else {
          htmlEl.setAttribute("data-bs-theme", "light");
          darkModeToggle.textContent = "Dark Mode";
        }
      });
    });
  </script>
</body>
</html>
